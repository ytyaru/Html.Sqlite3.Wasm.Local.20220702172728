<!doctype html>
<html>
<head prefix="og: https://ogp.me/ns# article: https://ogp.me/ns/article#">
<meta charset="utf-8">
<title>sql.jsをローカルに配置して実行する</title>
<meta name="description" content="WASM(WebAssembly)を使う。">
<meta name="author" content="ytyaru">
<link rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/deed.ja">
<link rel="icon" href="asset/image/avator.png">
<link rel="stylesheet" href="css/styles.css">
<link rel="stylesheet" href="css/toot-dialog.css">
<link rel="stylesheet" href="css/transaction.css">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta property="og:type" content="profile" />
<meta property="og:site_name" content="ytyaru" />
<meta property="og:title" content="sql.jsをローカルに配置して実行する" />
<meta property="og:description" content="WASM(WebAssembly)を使う。" />
<meta property="og:image" content="https://ytyaru.github.io/Html.Sqlite3.Wasm.Load.20220702150625/asset/image/eye-catch.png" />
<meta property="article:modified_time" content="2022-07-02T16:56:00+09:00" />
<meta property="article:published_time" content="2022-07-02T16:55:00+09:00" />
<meta property="article:author" content="https://ytyaru.github.io/" />
<meta name="twitter:card" content="summary_large_image" />
<script type="application/ld+json">
  {
    "@context": "https://schema.org/",
    "@type": "Article",
    "author": {
      "@type": "Person",
      "name": "ytyaru",
      "url": "https://ytyaru.github.io/",
      "sameAs": [
        "https://twitter.com/ytyaru1",
        "https://github.com/ytyaru",
        "https://profile.hatena.ne.jp/ytyaru/",
        "https://mstdn.jp/@ytyaru",
        "https://pawoo.net/@ytyaru_pawoo",
        "https://fedibird.com/@ytyaru",
        "https://www.pixiv.net/users/53831310",
        "https://monaledge.com/user/MEHCqJbgiNERCH3bRAtNSSD9uxPViEX1nu",
        "https://web3.askmona.org/user/1590",
        "https://misskey.io/@ytyaru",
        "https://misskey.dev/@ytyaru",
        "https://sushi.ski/@ytyaru",
        "https://meisskey.one/@ytyaru",
      ]
    },
    "dateModified": "2022-07-02T16:56:00+09:00",
    "datePublished": "2022-07-02T16:55:00+09:00",
    "headline": "sql.jsをローカルに配置して実行する",
    "image": ["https://ytyaru.github.io/Html.Sqlite3.Wasm.Load.20220702150625/asset/image/eye-catch.png"]
  }
</script>
<link rel="webmention" href="https://webmention.io/ytyaru.github.io/webmention" />
<link rel="pingback" href="https://webmention.io/ytyaru.github.io/xmlrpc" />
<link rel="me" href="https://twitter.com/ytyaru1">
<link rel="me" href="https://mstdn.jp/@ytyaru">
<link rel="me" href="https://pawoo.net/@ytyaru_pawoo">
<link rel="me" href="https://fedibird.com/@ytyaru">
<link rel="me" href="https://github.com/ytyaru">
<link rel="me" href="https://profile.hatena.ne.jp/ytyaru/">
<link rel="me" href="https://ytyaru.hatenablog.com/">
<link rel="me" href="https://www.pixiv.net/users/53831310">
<link rel="me" href="https://monaledge.com/user/MEHCqJbgiNERCH3bRAtNSSD9uxPViEX1nu">
<link rel="me" href="https://web3.askmona.org/user/1590">
<link rel="me" href="https://misskey.io/@ytyaru">
<link rel="me" href="https://misskey.dev/@ytyaru">
<link rel="me" href="https://sushi.ski/@ytyaru">
<link rel="me" href="https://meisskey.one/@ytyaru">

<script src="https://unpkg.com/@popperjs/core@2"></script>
<script src="https://unpkg.com/tippy.js@6"></script>
<script src="lib/tingle/0.16.0/tingle.js"></script>
<link rel="stylesheet" href="./lib/tingle/0.16.0/tingle.css">
<!--<script src='https://cdn.jsdelivr.net/gh/rsms/markdown-wasm@v1.1.2/dist/markdown.js'></script>-->
<script src='lib/markdown-wasm/1.2.0/markdown.js'></script>
<!--<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">-->
<link rel="stylesheet" type="text/css" href="./lib/toastify/1.11.2/min.css">
<!--<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/toastify-js"></script>-->
<script src="lib/toastify/1.11.2/min.js"></script>
<script src="lib/party/party.min.js"></script>
<script src="lib/jszip/3.9.1/min.js"></script>
<script src="js/toaster.js"></script>
<script src="js/rest-client.js"></script>
<script src="js/misskey-rest-client.js"></script>
<script src="js/misskey-instance.js"></script>
<script src="js/misskey-authorizer.js"></script>
<script src="js/misskey-authorizer-oauth.js"></script>
<script src="js/misskey-authorizer-miauth.js"></script>
<script src="js/misskey-api-client.js"></script>
<script src="js/misskey-note-button.js"></script>
<script src="js/misskey-note-dialog.js"></script>
<script src="js/webmention-requester.js"></script>
<script src="js/mastodon-rest-client.js"></script>
<script src="js/mastodon-authorizer.js"></script>
<script src="js/mastodon-api-client.js"></script>
<script src="js/toot-button.js"></script>
<script src="js/toot-dialog.js"></script>
<script src="js/comment.js"></script>
<script src="js/tweet-button.js"></script>
<script src="js/mention-section.js"></script>
<script src="js/mpurse-send-button.js"></script>
<script src="js/mastodon-instance.js"></script>
<script src="js/mastodon-profile-generator.js"></script>
<script src="js/misskey-profile-generator.js"></script>
<script src="js/mastodon-redirect-callback-reciver.js"></script>
<script src="js/misskey-redirect-callback-reciver.js"></script>

<!--
<script src="js/profile-register.js"></script>
<script src="js/google-apps-script-client.js"></script>
<script src="js/profile-generator.js"></script>
<script src="js/mona-transaction-client.js"></script>
<script src="js/mona-transaction-viewer.js"></script>
<script src="js/circle-svg-generator.js"></script>
-->
<!--<script src="js/party-sparkle-monar.js"></script>-->

<!--

<script src="js/app/image-file-size.js"></script>
<script src="js/app/image-table-horizon.js"></script>
<script src="js/app/mpurse-send-button-generator.js"></script>
<script src="js/app/zip-downloader.js"></script>
<script src="js/app/loading.js"></script>
-->
<script src="js/party-sparkle-hart.js"></script>
<script src="js/party-sparkle-image.js"></script>

<script src="js/app/loading.js"></script>
<!--
<script src="js/favicon-getter.js"></script>
<script src="js/favicon-downloader.js"></script>
-->
<script src="lib/sql.js/1.6.2/sql-wasm.min.js"></script>
<!--<script src="https://cdnjs.cloudflare.com/ajax/libs/sql.js/1.6.2/sql-wasm.min.js"></script>-->
<!--<script src="https://cdnjs.cloudflare.com/ajax/libs/sql.js/1.7.0/sql-wasm.min.js"></script>-->

<script src="js/sqlite3-loader.js"></script>
<script src="js/sqlite3-db-uploader.js"></script>
<script src="js/sqlite3-db-downloader.js"></script>

<script src="js/main.js"></script>
</head>
<body>
<h1>sql.jsをローカルに配置して実行する</h1>
<p>テーブルとレコードを作成しDBファイルを作る。それをダウンロードする。ダウンロードして展開した.dbファイルをドラッグ＆ドロップすると内容を読み取って表示する。</p>
<details><summary>使い方</summary>
<h2>DBファイルを作る</h2>
<ol>
<li>テキストエリアに適当な文字列を1行ずつ入れる</li>
<li><kbd>ダウンロード</kbd>ボタンをクリックする</li>
<li>ZIPを展開する</li>
<li><code>users.db</code>ファイルに指定したデータが入っている</li>
<li><code>SELECT * FROM users;</code>で確認できる</li>
</ol>
<h2>DBファイルを表示する</h2>
<ol>
<li><kbd>ダウンロード</kbd>したファイルを展開する</li>
<li>展開した<code>users.db</code>ファイルをドラッグ＆ドロップする</li>
<li>しばらくすると下にテーブルの列と行が表示される</li>
</ol>
</details>

<textarea id="usernames">ytyaru
hoge
</textarea>
<button id="download">ダウンロード</button>

<div id="drop-zone" style="border:1px solid; padding:32px;">
<p>ファイルをドラッグ＆ドロップ</p>
または<input type="file" name="file" id="file-input">
</div>
<div id="preview"></div>

<details><summary>補足</summary>
<h2>使用ライブラリ</h2>
<ol>
<li><a href="https://sql.js.org/#/">sql.js</a></li>
</ol>
<h2>参考</h2>
<ol>
<li><a href="https://sql.js.org/documentation/">docs</a></li>
<li><a href="https://bestofjs.org/projects/sqljs">bestofjs.org/sqljs</a></li>
</ol>
</details>

<!--
<p>CORSエラーで使えない。</p>
<details><summary>使い方</summary>
<ol>
<li>ファビコンを取得したいURLを用意する</li>
<li>URLを一行ずつテキストエリアに記入する</li>
<li><kbd>ダウンロード</kbd>ボタンをクリックする</li>
</ol>
<ul>
<li>ファビコンはZIPファイルにまとめてダウンロードする</li>
<li>ファビコンはドメイン単位で取得する（URLが重複しても自動的にひとつに集約される）</li>
<li>ファビコンのファイル名は<code>ドメイン名.拡張子</code>になる</li>
</ul>
</details>
<textarea id="urls"></textarea>
<button id="download">ダウンロード</button>
<div id="preview"></div>
-->

<!--
<details><summary>使い方</summary>
<ol>
<li><a href="https://ytyaru.github.io/Html.Mpurse.Api.20220517160403/setup.html">mpurseで口座を作る</a></li>
<li><a href="https://ytyaru.github.io/Html.Mpurse.Api.20220517160403/setup.html#login">ブラウザの拡張機能でmpurseをクリックしてパスワードを入れて承認する</a></li>
<li>あなたのアドレスが出力される</li>
<li>もしアドレスが出なければmpurseを承認後、<kbd>F5</kbd>キーを押してリロードする</li>
<li><kbd>ダウンロード</kbd>ボタンを押す</li>
<li>ZIPを解凍したファイル一式を自分のサイトにアップロードする</li>
<li>あなたのWEBサイトに、あなた宛の投げモナボタンが表示される</li>
</ol>
<p></p>
</details>
<form>
<fieldset><legend>設定</legend>
<table>
<tr><th>アドレス</th><td><button id="get-address" type="button">取得する</button><input id="to" type="text"></td></tr>
<tr><th>金額</th><td>
<input id="amount" type="number" value="0.11411400" min="0.00000001" step="0.00000001" placeholder="0.114" >
<input id="asset" type="text" value="MONA" list="datalist-asset" placeholder="MONA" >
<datalist id="datalist-asset">
    <option value="MONA">
    <option value="XMP">
</datalist>
</td></tr>
<tr><th>メモ</th><td><input id="memo" value="" placeholder="Good job!"></td></tr>
<tr><th>完了</th><td>
<input id="ok" value="投げモナしました！\nありがとうございます！（ ´∀｀）" placeholder="成功時に実行するコード">
</td></tr>
<tr><th>中止</th><td>
<input id="cancel" value="キャンセルしました(´・ω・｀)"  placeholder="成功時に実行するコード">
</td></tr>
<tr><th>クラッカー</th><td>
<span>送金完了後のアニメーション</span><br>
<table id="anim-table">
<tr><th>confetti</th>
<td><button id="party-confetti" type="button">■</button></td>
<td><button id="party-confetti-star" type="button">★</button></td>
<td><button id="party-confetti-hart" type="button">♥</button></td>
<td><button id="party-confetti-img" type="button"><img src="./asset/image/monacoin/png/64/monar.png" width="32" heigth="32"></button></td><td><button id="party-confetti-mix" type="button">混</button></td></tr>
<tr><th>sparkles</th><td>-</td>
<td><button id="party-sparkle-star" type="button">★</button></td>
<td><button id="party-sparkle-hart" type="button">♥</button></td>
<td><button id="party-sparkle-img" type="button"><img src="./asset/image/monacoin/png/64/monar.png" width="32" heigth="32"></button><br></td><td>-</td></tr>
</table>

<label><input type="radio" name="party" value="confetti" checked>クラッカー</label>
<label><input type="radio" name="party" value="confetti-star">★</label>
<label><input type="radio" name="party" value="confetti-hart">♥</label>
<label><input type="radio" name="party" value="confetti-image"><img src="./asset/image/monacoin/png/64/monar.png" width="32" heigth="32"></label>
<label><input type="radio" name="party" value="confetti-mix">混</label>
<label><input type="radio" name="party" value="sparkle-star">★</label>
<label><input type="radio" name="party" value="sparkle-hart">♥</label>
<label><input type="radio" name="party" value="sparkle-image"><img src="./asset/image/monacoin/png/64/monar.png" width="32" heigth="32"></label>
<input id="party-src" value="" type="text" placeholder="送金後アニメ画像URL" style="vertical-align:middle;">
<select id="party-src-id">
    <option value="coin-mark-black">coin-mark-black</option>
    <option value="coin-mark">coin-mark</option>
    <option value="mark-outline">mark-outline</option>
    <option value="mark">mark</option>
    <option value="coin-monar-mouth-red">coin-monar-mouth-red</option>
    <option value="coin-monar">coin-monar</option>
    <option value="coin-mini-monar-mouth-red">coin-mini-monar-mouth-red</option>
    <option value="coin-mini-monar">coin-mini-monar</option>
    <option value="monar-mark">monar-mark</option>
    <option value="monar-mark-white">monar-mark-white</option>
    <option value="monar-mouth-red">monar-mouth-red</option>
    <option value="monar" selected>monar</option>
    <option value="monar-no-face">monar-no-face</option>
    <option value="monar-transparent">monar-transparent</option>
</select>
<label><input type="radio" value="png" name="format">PNG</label>
<label><input type="radio" value="svg" name="format" checked>SVG</label>
<select id="party-size">
    <option value="16">16</option>
    <option value="32" selected>32</option>
    <option value="64">64</option>
    <option value="128">128</option>
    <option value="256">256</option>
</select>
</td></tr>
<tr><th>画像</th><td>
<fieldset><legend>形式</legend>
<label><input type="radio" value="png" name="img-format">PNG</label>
<label><input type="radio" value="svg" name="img-format">SVG</label>
<label title="SVGで表示しPNGをフォールバックにする"><input type="radio" value="svg,png" name="img-format" checked>SVG+PNG</label>
</fieldset>
<fieldset><legend>デフォルト</legend>
<input id="base-url" value="./asset/image/monacoin/" type="text" placeholder="画像ベースURL">
<input id="src" value="" type="text" placeholder="自サイトに配置した画像URL" style="vertical-align:middle;">
<select id="src-id">
    <option value="coin-mark-black">coin-mark-black</option>
    <option value="coin-mark">coin-mark</option>
    <option value="mark-outline">mark-outline</option>
    <option value="mark">mark</option>
    <option value="coin-monar-mouth-red">coin-monar-mouth-red</option>
    <option value="coin-monar" selected>coin-monar</option>
    <option value="coin-mini-monar-mouth-red">coin-mini-monar-mouth-red</option>
    <option value="coin-mini-monar">coin-mini-monar</option>
    <option value="monar-mark">monar-mark</option>
    <option value="monar-mark-white">monar-mark-white</option>
    <option value="monar-mouth-red">monar-mouth-red</option>
    <option value="monar">monar</option>
    <option value="monar-no-face">monar-no-face</option>
    <option value="monar-transparent">monar-transparent</option>
</select>
<input id="size" type="number" value="64" min="1" step="1" placeholder="表示する画像サイズ" list="datalist-size" >
<datalist id="datalist-size">
    <option value="16">
    <option value="32">
    <option value="64" selected>
    <option value="128">
    <option value="256">
</datalist>

</fieldset>
<fieldset><legend>内蔵</legend>
<span id="all-file-size"></span>
<select id="img-file-sizes">
    <option value="64">64</option>
    <option value="256">256</option>
    <option value="64,256" selected>64,256</option>
</select>
<label class="checkered-pattern"><input type="checkbox" name="img-files" value="coin-mark-black" checked><img src="./asset/image/monacoin/png/64/coin-mark-black.png" width="32" heigth="32"></label>
<label class="checkered-pattern"><input type="checkbox" name="img-files" value="coin-mark" checked><img src="./asset/image/monacoin/png/64/coin-mark.png" width="32" heigth="32"></label>
<label class="checkered-pattern"><input type="checkbox" name="img-files" value="coin-monar-mouth-red" checked><img src="./asset/image/monacoin/png/64/coin-monar-mouth-red.png" width="32" heigth="32"></label>
<label class="checkered-pattern"><input type="checkbox" name="img-files" value="coin-monar" checked><img src="./asset/image/monacoin/png/64/coin-monar.png" width="32" heigth="32"></label>
<label class="checkered-pattern"><input type="checkbox" name="img-files" value="coin-mini-monar-mouth-red" checked><img src="./asset/image/monacoin/png/64/coin-mini-monar-mouth-red.png" width="32" heigth="32"></label>
<label class="checkered-pattern"><input type="checkbox" name="img-files" value="coin-mini-monar" checked><img src="./asset/image/monacoin/png/64/coin-mini-monar.png" width="32" heigth="32"></label>
<label class="checkered-pattern"><input type="checkbox" name="img-files" value="mark-outline" checked><img src="./asset/image/monacoin/png/64/mark-outline.png" width="32" heigth="32"></label>
<label class="checkered-pattern"><input type="checkbox" name="img-files" value="mark" checked><img src="./asset/image/monacoin/png/64/mark.png" width="32" heigth="32"></label>
<label class="checkered-pattern"><input type="checkbox" name="img-files" value="monar-mark-white" checked><img src="./asset/image/monacoin/png/64/monar-mark-white.png" width="32" heigth="32"></label>
<label class="checkered-pattern"><input type="checkbox" name="img-files" value="monar-mark" checked><img src="./asset/image/monacoin/png/64/monar-mark.png" width="32" heigth="32"></label>
<label class="checkered-pattern"><input type="checkbox" name="img-files" value="monar-mouth-red" checked><img src="./asset/image/monacoin/png/64/monar-mouth-red.png" width="32" heigth="32"></label>
<label class="checkered-pattern"><input type="checkbox" name="img-files" value="monar-no-face" checked><img src="./asset/image/monacoin/png/64/monar-no-face.png" width="32" heigth="32"></label>
<label class="checkered-pattern"><input type="checkbox" name="img-files" value="monar-transparent" checked><img src="./asset/image/monacoin/png/64/monar-transparent.png" width="32" heigth="32"></label>
<label class="checkered-pattern"><input type="checkbox" name="img-files" value="monar" checked><img src="./asset/image/monacoin/png/64/monar.png" width="32" heigth="32"></label>
<div id="image-table"></div>
</fieldset>
</td></tr>
<tr><th>title</th><td>
<input id="title" value="投げモナする" type="text" placeholder="title属性値">
</td></tr>
<tr><th>alt</th><td>
<input id="alt" value="投げモナする" type="text" placeholder="alt属性値">
</td></tr>
</table>
</fieldset>
</form>

<table>
<tr><th>結果</th><th>コード</th><th>コピー</th><th>ZIP</th></tr>
<td id="export"></td><td><textarea id="export-code" width="40" height="10"></textarea></td><td><button id="copy-to-clipboard" type="button">コピー</button></td><td id="export-download-zip"><button id="download-zip" type="button">ダウンロード</button></td></tr>
</table>

<details><summary>過去バージョン</summary>
<ul>
<li><a href="https://ytyaru.github.io/MonaCoin.Icon.20220521092535/">モナコインのアイコンを作った</a></li>
<li><a href="https://ytyaru.github.io/Html.MonaCoin.Button.Generator.20220519194201/">投げモナボタンジェネレータ</a></li>
<li><a href="https://ytyaru.github.io/Html.MonaCoin.Button.Component.Generator.20220526192239/">投げモナボタンジェネレータ（WebComponent版）</a></li>
<li><a href="https://ytyaru.github.io/Html.MonaCoin.Button.Component.Generator.Animation.20220531091850/">投げモナボタンジェネレータ（WebComponent版）＋アニメ</a></li>
<li><a href="https://ytyaru.github.io/Html.MonaCoin.Button.Component.Generator.Slim.20220531090526/">投げモナボタンジェネレータ（WebComponent版）＋アニメ＋コード減量</a></li>
<li><a href="https://ytyaru.github.io/Html.PartyPopper.Animation.Mpurse.Send.Button.20220623144925/">投げモナするとクラッカーを鳴らすアニメーションを表示する</a></li>
</ul>
</details>
-->

<footer><a href="https://ytyaru.github.io/" title="著者" target="_blank" rel="noopener noreferrer"><img src="./asset/image/avator.png" width="64" height="64">ytyaru</a><mpurse-send-button to="MEHCqJbgiNERCH3bRAtNSSD9uxPViEX1nu" src-id="coin-monar"></mpurse-send-button><a href="https://ytyaru.github.io/Html.Mpurse.Api.20220517160403/setup.html" title="モナコインを使うには">？</a></footer>

<tweet-button text="いいね！\n"></tweet-button>
<toot-dialog domain="mstdn.jp pawoo.net" status="いいね！"></toot-dialog>
<misskey-note-dialog domain="misskey.io misskey.dev" status="いいね！"></misskey-note-dialog>
<mention-section></mention-section>
</body>
</html>

